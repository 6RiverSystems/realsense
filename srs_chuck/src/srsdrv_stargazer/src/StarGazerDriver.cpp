#include <StarGazerDriver.hpp>

namespace srs {

////////////////////////////////////////////////////////////////////////////////////////////////////
// Public methods

////////////////////////////////////////////////////////////////////////////////////////////////////
StarGazerDriver::StarGazerDriver() :
    rosNodeHandle_(),
    rosPubXXX_(),
    starGazer_("/dev/ttyUSB0")
{

}

////////////////////////////////////////////////////////////////////////////////////////////////////
void StarGazerDriver::run()
{
    ros::Rate refreshRate(REFRESH_RATE_HZ);

    starGazer_.Configure();
//	starGazer_.AutoCalculateHeight();
    starGazer_.Start();

    while (ros::ok())
    {
        ros::spinOnce();

        starGazer_.PumpMessageProcessor();

        refreshRate.sleep();
    }
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// Private methods

} // namespace srs
