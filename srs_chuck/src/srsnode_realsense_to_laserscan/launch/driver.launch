<!-- 
  *
  * (c) Copyright 2015-2016 River Systems, all rights reserved.
  *
  * This is proprietary software, unauthorized distribution is not permitted.
  *
-->
<launch>
	<arg name="camera" default="camera" />
	<arg name="simulation" default="false" />

	<include unless="$(arg simulation)" file="$(find realsense_camera)/launch/r200_nodelet_modify_params.launch">
		<arg name="enable_depth"      default="true" />
		<arg name="enable_color"      default="true" />
		<arg name="enable_pointcloud" default="false" />
		<arg name="enable_tf"         default="false" />
		<arg name="mode"              default="manual" />
		<arg name="color_height"	value="480" />
		<arg name="color_width"		value="640" />
		<arg name="depth_height"	value="240" />
		<arg name="depth_width" 	value="320" />
		<arg name="depth_fps"       value="30" />
		<arg name="color_fps"       value="30" />
	</include>

	<node name="srsnode_realsense_to_laserscan" pkg="srsnode_realsense_to_laserscan" type="srsnode_realsense_to_laserscan"
		output="screen" respawn="true"/>

	<node pkg="nodelet" type="nodelet" name="laserscan_nodelet_manager" args="manager"/>

	<!-- push depthimage_to_laserscan nodelet into sensor's nodelet manager-->
	<node pkg="nodelet" type="nodelet" name="depthimage_to_laserscan" args="load depthimage_to_laserscan/DepthImageToLaserScanNodelet laserscan_nodelet_manager">
        <remap from="image" to="/camera/depth/image_median_filter"/>
        <remap from="scan" to="/camera/depth/scan"/>
        
		<param name="scan_height" value="20"/>
		<param name="scan_time" value="0.033"/>
		<param name="output_frame_id" value="/laser_frame"/>
		<param name="range_min" value="0.01"/>
		<param name="range_max" value="8.00"/>
		<param name="concurrency_level" value="0"/>
    </node>

</launch>

